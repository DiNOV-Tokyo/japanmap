---
title: "Japan Map"
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
date: "`r Sys.Date()`"
runitime: shiny
---

```{r setup, include=FALSE}
library(flexdashboard)
library(tidyverse)
library(leaflet)
```

Volcano
======================================================

Column 
-----------------------------------------------------------------------

### Volcanos in Japan

```{r}

dat<-read.csv("volcano_list.csv", fileEncoding = "UTF-8")


dat %>% 
  filter(NAME != "") %>% 
  separate(lat, into=c("lat_d", "lat_m", "lat_s"), sep="([°′″])") %>% 
  mutate(lat=as.numeric(lat_d) + as.numeric(lat_m)/60 + as.numeric(lat_s)/3600) %>% 
  separate(lng, into=c("lng_d", "lng_m", "lng_s"), sep="([°′″])") %>% 
  mutate(lng=as.numeric(lng_d) + as.numeric(lng_m)/60 + as.numeric(lng_s)/3600) %>% 
  leaflet() %>% 
  addTiles() %>% 
  addCircleMarkers(lat=~lat, lng=~lng, radius = ~elev/300, label = ~NAME) 


```

Japan 100 famous mountain
===============================================

```{r 100moutain}

library(rvest)
library(leaflet)
x <- read.csv("http://www.dinov.tokyo/Data/JP_Pref/JapanSummit100.csv", header = TRUE, fileEncoding="UTF-8")
lat <- as.numeric(as.character(x$緯度))
lon <- as.numeric(as.character(x$経度))
dt <- data.frame("Name"=x$山名, "lat"=lat, "lon"=lon, "elev"=x$標高)
dt %>% 
  leaflet %>% 
  addTiles() %>% 
  addCircleMarkers(lat=~lat, lng=~lon, radius = ~elev/1000, label = ~Name) 


```